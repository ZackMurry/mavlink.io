<!DOCTYPE HTML><html lang="zh"><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8"http-equiv="Content-Type"><title>Camera Protocol · MAVLink Developer Guide</title><meta content="IE=edge"http-equiv="X-UA-Compatible"/><meta content=""name="description"><meta content="GitBook 3.2.3"name="generator"><link href="../../gitbook/style.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-richquotes/plugin.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-anchors/plugin.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-language-picker/plugin.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-highlight/website.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-search/search.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-fontsettings/website.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-theme-api/theme-api.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-theme-dronecode/theme_styles.css"rel="stylesheet"><meta content="true"name="HandheldFriendly"/><meta content="width=device-width,initial-scale=1,user-scalable=no"name="viewport"><meta content="yes"name="apple-mobile-web-app-capable"><meta content="black"name="apple-mobile-web-app-status-bar-style"><link href="../../gitbook/images/apple-touch-icon-precomposed-152.png"rel="apple-touch-icon-precomposed"sizes="152x152"><link href="../../gitbook/images/favicon.ico"rel="shortcut icon"type="image/x-icon"><link href="camera_def.html"rel="next"/><link href="command.html"rel="prev"/></head><body><div id="common_dronecode_menu"><div class="large_version common_menu_logo"><a href="https://mavlink.io/en/"><img alt="Dronecode logo (large)"src="../../assets/site/logo_mavlink_header.png"/></a></div><div class="small_version common_menu_logo"><a href="https://mavlink.io/en/"><img alt="Dronecode logo (small)"src="../../assets/site/logo_mavlink_header.png"/></a></div><div class="common_menu_options"><div class="common_dronecode_menu_item large_version"><a href="https://mavlink.io/en/messages/common.html">Messages</a></div><div class="common_dronecode_menu_item small_version"><a href="https://mavlink.io/en/messages/common.html">Messages</a></div><div class="common_dronecode_menu_item large_version"><a href="https://mavlink.io/en/about/faq.html">FAQ</a></div><div class="common_dronecode_menu_item small_version"><a href="https://mavlink.io/en/about/faq.html">FAQ</a></div><div class="common_dronecode_menu_item large_version"><a href="https://mavlink.io/en/about/implementations.html">Implementations</a></div><div class="common_dronecode_menu_item small_version"><a href="https://mavlink.io/en/about/implementations.html">Implementations</a></div><div class="common_dronecode_menu_item large_version"><a href="https://mavlink.io/en/mavgen_c/examples.html">Examples</a></div><div class="common_dronecode_menu_item small_version"><a href="https://mavlink.io/en/mavgen_c/examples.html">Examples</a></div><div class="common_dronecode_menu_item large_version"><a href="https://mavlink.io/en/about/support.html">Support</a></div><div class="common_dronecode_menu_item small_version"><a href="https://mavlink.io/en/about/support.html">Help</a></div></div></div><div class="book"><div class="book-summary"><div id="book-search-input"role="search"><input placeholder="輸入並搜尋"type="text"/></div><nav role="navigation"><ul class="summary"><li class="chapter"data-level="1.1"data-path="../"><a href="../">简介</a><ul class="articles"><li class="chapter"data-level="1.1.1"data-path="../about/overview.html"><a href="../about/overview.html">Overview</a></li><li class="chapter"data-level="1.1.2"data-path="../about/faq.html"><a href="../about/faq.html">FAQ</a></li><li class="chapter"data-level="1.1.3"data-path="../about/implementations.html"><a href="../about/implementations.html">Implementations</a></li></ul></li><li class="chapter"data-level="1.2"data-path="../getting_started/"><a href="../getting_started/">Getting Started</a><ul class="articles"><li class="chapter"data-level="1.2.1"data-path="../getting_started/installation.html"><a href="../getting_started/installation.html">Install MAVLink</a></li><li class="chapter"data-level="1.2.2"data-path="../getting_started/generate_libraries.html"><a href="../getting_started/generate_libraries.html">Generate MAVLink Libraries</a></li><li class="chapter"data-level="1.2.3"data-path="../getting_started/ros.html"><a href="../getting_started/ros.html">Generate Source Files for ROS</a></li></ul></li><li class="chapter"data-level="1.3"data-path="../getting_started/use_libraries.html"><a href="../getting_started/use_libraries.html">Using MAVLink Libraries</a><ul class="articles"><li class="chapter"data-level="1.3.1"data-path="../mavgen_c/"><a href="../mavgen_c/">C (mavgen)</a><ul class="articles"><li class="chapter"data-level="1.3.1.1"data-path="../mavgen_c/message_signing_c.html"><a href="../mavgen_c/message_signing_c.html">Message Signing</a></li><li class="chapter"data-level="1.3.1.2"data-path="../mavgen_c/examples.html"><a href="../mavgen_c/examples.html">Examples</a><ul class="articles"><li class="chapter"data-level="1.3.1.2.1"data-path="../mavgen_c/example_c_uart.md"><span>UART Interface (C)</span></li><li class="chapter"data-level="1.3.1.2.2"data-path="../mavgen_c/example_c_udp.md"><span>UDP Example (C)</span></li></ul></li></ul></li><li class="chapter"data-level="1.3.2"data-path="../mavgen_python/"><a href="../mavgen_python/">Python (mavgen)</a></li></ul></li><li class="chapter"data-level="1.4"data-path="../guide/"><a href="../guide/">Guide</a><ul class="articles"><li class="chapter"data-level="1.4.1"data-path="../guide/mavlink_version.html"><a href="../guide/mavlink_version.html">MAVLink Versions</a></li><li class="chapter"data-level="1.4.2"data-path="../guide/mavlink_2.html"><a href="../guide/mavlink_2.html">MAVLink 2</a></li><li class="chapter"data-level="1.4.3"data-path="../guide/message_signing.html"><a href="../guide/message_signing.html">Message Signing</a></li><li class="chapter"data-level="1.4.4"data-path="../guide/serialization.html"><a href="../guide/serialization.html">Serialization</a></li><li class="chapter"data-level="1.4.5"data-path="../guide/routing.html"><a href="../guide/routing.html">Routing</a></li><li class="chapter"data-level="1.4.6"data-path="../guide/general_telemetry.html"><a href="../guide/general_telemetry.html">General Telemetry</a></li><li class="chapter"data-level="1.4.7"data-path="../guide/offboard_control.html"><a href="../guide/offboard_control.html">Offboard Control</a></li><li class="chapter"data-level="1.4.8"data-path="../file_formats/"><a href="../file_formats/">File Formats</a></li><li class="chapter"data-level="1.4.9"data-path="../guide/uavcan_interaction.html"><a href="../guide/uavcan_interaction.html">UAVCAN Interaction</a></li><li class="chapter"data-level="1.4.10"data-path="../guide/scripts.html"><a href="../guide/scripts.html">Scripts</a></li><li class="chapter"data-level="1.4.11"data-path="../guide/xml_schema.html"><a href="../guide/xml_schema.html">MAVLink XML Schema</a></li><li class="chapter"data-level="1.4.12"data-path="../guide/define_xml_element.html"><a href="../guide/define_xml_element.html">Defining XML Enums/Messages</a></li><li class="chapter"data-level="1.4.13"data-path="../messages/"><a href="../messages/">Dialects</a><ul class="articles"><li class="chapter"data-level="1.4.13.1"data-path="../messages/ardupilotmega.html"><a href="../messages/ardupilotmega.html">ardupilotmega.xml</a></li><li class="chapter"data-level="1.4.13.2"data-path="../messages/ASLUAV.html"><a href="../messages/ASLUAV.html">ASLUAV.xml</a></li><li class="chapter"data-level="1.4.13.3"data-path="../messages/autoquad.html"><a href="../messages/autoquad.html">autoquad.xml</a></li><li class="chapter"data-level="1.4.13.4"data-path="../messages/icarous.html"><a href="../messages/icarous.html">icarous.xml</a></li><li class="chapter"data-level="1.4.13.5"data-path="../messages/matrixpilot.html"><a href="../messages/matrixpilot.html">matrixpilot.xml</a></li><li class="chapter"data-level="1.4.13.6"data-path="../messages/minimal.html"><a href="../messages/minimal.html">minimal.xml</a></li><li class="chapter"data-level="1.4.13.7"data-path="../messages/paparazzi.html"><a href="../messages/paparazzi.html">paparazzi.xml</a></li><li class="chapter"data-level="1.4.13.8"data-path="../messages/python_array_test.html"><a href="../messages/python_array_test.html">python_array_test.xml</a></li><li class="chapter"data-level="1.4.13.9"data-path="../messages/slugs.html"><a href="../messages/slugs.html">slugs.xml</a></li><li class="chapter"data-level="1.4.13.10"data-path="../messages/standard.html"><a href="../messages/standard.html">standard.xml</a></li><li class="chapter"data-level="1.4.13.11"data-path="../messages/test.html"><a href="../messages/test.html">test.xml</a></li><li class="chapter"data-level="1.4.13.12"data-path="../messages/ualberta.html"><a href="../messages/ualberta.html">ualberta.xml</a></li><li class="chapter"data-level="1.4.13.13"data-path="../messages/uAvionix.html"><a href="../messages/uAvionix.html">uAvionix.xml</a></li></ul></li></ul></li><li class="chapter"data-level="1.5"data-path="../messages/common.html"><a href="../messages/common.html">Messages (common)</a></li><li class="chapter"data-level="1.6"data-path="./"><a href="./">Microservices</a><ul class="articles"><li class="chapter"data-level="1.6.1"data-path="heartbeat.html"><a href="heartbeat.html">Heartbeat/Connection Protocol</a></li><li class="chapter"data-level="1.6.2"data-path="mission.html"><a href="mission.html">Mission Protocol</a></li><li class="chapter"data-level="1.6.3"data-path="parameter.html"><a href="parameter.html">Parameter Protocol</a></li><li class="chapter"data-level="1.6.4"data-path="command.html"><a href="command.html">Command Protocol</a></li><li class="chapter active"data-level="1.6.5"data-path="camera.html"><a href="camera.html">Camera Protocol</a><ul class="articles"><li class="chapter"data-level="1.6.5.1"data-path="camera_def.html"><a href="camera_def.html">Camera Definition</a></li></ul></li><li class="chapter"data-level="1.6.6"data-path="gimbal_v2.html"><a href="gimbal_v2.html">Gimbal Protocol v2</a><ul class="articles"><li class="chapter"data-level="1.6.6.1"data-path="gimbal.html"><a href="gimbal.html">Gimbal Protocol v1 (superseded)</a></li></ul></li><li class="chapter"data-level="1.6.7"data-path="component_def.html"><a href="component_def.html">Component Definition</a></li><li class="chapter"data-level="1.6.8"data-path="arm_authorization.html"><a href="arm_authorization.html">Arm Authorization Protocol</a></li><li class="chapter"data-level="1.6.9"data-path="image_transmission.html"><a href="image_transmission.html">Image Transmission Protocol</a></li><li class="chapter"data-level="1.6.10"data-path="ftp.html"><a href="ftp.html">File Transfer Protocol (FTP)</a></li><li class="chapter"data-level="1.6.11"data-path="landing_target.html"><a href="landing_target.html">Landing Target Protocol</a></li><li class="chapter"data-level="1.6.12"data-path="ping.html"><a href="ping.html">Ping Protocol</a></li><li class="chapter"data-level="1.6.13"data-path="trajectory.html"><a href="trajectory.html">Path Planning (Trajectory) Protocol</a></li><li class="chapter"data-level="1.6.14"data-path="smart_battery.html"><a href="smart_battery.html">Smart Battery Protocol (WIP)</a></li><li class="chapter"data-level="1.6.15"data-path="terrain.html"><a href="terrain.html">Terrain Protocol</a></li><li class="chapter"data-level="1.6.16"data-path="tunnel.html"><a href="tunnel.html">Tunnel Protocol</a></li><li class="chapter"data-level="1.6.17"data-path="opendroneid.html"><a href="opendroneid.html">Open Drone ID Protocol (WIP)</a></li></ul></li><li class="chapter"data-level="1.7"data-path="../contributing/contributing.html"><a href="../contributing/contributing.html">Contributing</a></li><li class="chapter"data-level="1.8"data-path="../about/support.html"><a href="../about/support.html">Support</a></li><li class="divider"></li><li><a href="https://www.gitbook.com"class="gitbook-link"target="blank">本書使用 GitBook 釋出</a></li></ul></nav></div><div class="book-body"><div class="body-inner"><div class="book-header"role="navigation"><h1><i class="fa fa-circle-o-notch fa-spin"></i> <a href="..">Camera Protocol</a></h1></div><div class="page-wrapper"role="main"tabindex="-1"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="markdown-section normal"><h1 id="&#x76F8;&#x673A;&#x534F;&#x8BAE;"><a href="#&#x76F8;&#x673A;&#x534F;&#x8BAE;"class="plugin-anchor"name="&#x76F8;&#x673A;&#x534F;&#x8BAE;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x76F8;&#x673A;&#x534F;&#x8BAE;</h1><p>&#x76F8;&#x673A;&#x901A;&#x8BAF;&#x534F;&#x8BAE;&#x7528;&#x4E8E;&#x8FDC;&#x7A0B;&#x914D;&#x7F6E;&#x673A;&#x8F7D;&#x76F8;&#x673A;&#x6216;&#x67E5;&#x8BE2;&#x76F8;&#x673A;&#x7684;&#x72B6;&#x6001;&#x3002; &#x5B83;&#x652F;&#x6301;&#x7167;&#x7247;&#x62CD;&#x6444;&#x3001;&#x89C6;&#x9891;&#x5F55;&#x5236;&#x548C;&#x89C6;&#x9891;&#x6D41;&#x3002; &#x5B83;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x67E5;&#x8BE2;&#x5E76;&#x914D;&#x7F6E;&#x673A;&#x8F7D;&#x76F8;&#x673A;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7684;&#x6D88;&#x606F;&#x3002;</p><blockquote class="alert clearfix alert-success"><strong class="fa fa-2x fa-thumbs-o-up"></strong><p>&#x8F6F;&#x4EF6; <a href="https://camera-manager.dronecode.org/en/"target="_blank">Dronecode Camera Manager</a> &#x5B9E;&#x73B0;&#x4E86;&#x8BE5;&#x534F;&#x8BAE;&#x3002;</p></blockquote><h2 id="&#x76F8;&#x673A;&#x8FDE;&#x63A5;"><a href="#&#x76F8;&#x673A;&#x8FDE;&#x63A5;"class="plugin-anchor"name="&#x76F8;&#x673A;&#x8FDE;&#x63A5;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x76F8;&#x673A;&#x8FDE;&#x63A5;</h2><p>&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x7684;&#x987B;&#x6309;&#x7167; <a href="heartbeat.html">Heartbeat/Connection Protocol</a> &#x7684;&#x8981;&#x6C42;&#xFF0C;&#x53D1;&#x9001;&#x56FA;&#x5B9A;&#x9891;&#x7387;&#x7684;&#x5FC3;&#x8DF3;&#x5305; (&#x4E00;&#x822C;&#x53EF;&#x53D6; 1Hz)&#x3002; &#x6BCF;&#x4E2A;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x90FD;&#x5FC5;&#x987B;&#x72EC;&#x5360;&#x4E00;&#x4E2A;&#x9884;&#x8BBE;&#x7684;ID&#xFF1A;&#x4ECE; <a href="../messages/common.html#MAV_COMP_ID_CAMERA">MAV_COMP_ID_CAMERA</a> &#x5230; <a href="../messages/common.html#MAV_COMP_ID_CAMERA6">MAV_COMP_ID_CAMERA6</a>&#x3002;</p><p>&#x5F53;&#x9996;&#x6B21;&#x68C0;&#x6D4B;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x7684;&#x5FC3;&#x8DF3;&#x65F6;&#xFF0C;GCS (&#x6216;&#x5176;&#x5B83;&#x63A5;&#x6536;&#x7CFB;&#x7EDF;) &#x5E94;&#x7ACB;&#x523B;&#x542F;&#x52A8;&#x76F8;&#x673A;&#x8BC6;&#x522B;&#x7A0B;&#x5E8F; <a href="#camera_identification">Camera Identification</a>&#x3002;</p><blockquote class="alert clearfix alert-info"><strong class="fa fa-2x fa-edit"></strong><p>&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x76F8;&#x673A;&#x7684;&#x5FC3;&#x8DF3;&#x4E2D;&#x65AD;&#xFF0C;&#x63A5;&#x6536;&#x7CFB;&#x7EDF;&#x5C06;&#x8BA4;&#x4E3A;&#x8BE5;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x5DF2;&#x7ECF;&#x65AD;&#x5F00; <em>disconnected</em>&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4ECE;&#x53EF;&#x7528;&#x76F8;&#x673A;&#x5217;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x3002; &#x5982;&#x679C;&#x518D;&#x6B21;&#x68C0;&#x6D4B;&#x5230;&#x8BE5;&#x76F8;&#x673A;&#x7684;&#x5FC3;&#x8DF3;&#xFF0C;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x76F8;&#x673A;&#x8BC6;&#x522B;&#x7A0B;&#x5E8F; <em>camera identification</em>&#x3002;</p></blockquote><h2 id="&#x76F8;&#x673A;&#x57FA;&#x672C;&#x64CD;&#x4F5C;"><a href="#&#x76F8;&#x673A;&#x57FA;&#x672C;&#x64CD;&#x4F5C;"class="plugin-anchor"name="&#x76F8;&#x673A;&#x57FA;&#x672C;&#x64CD;&#x4F5C;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x76F8;&#x673A;&#x57FA;&#x672C;&#x64CD;&#x4F5C;</h2><p>&#x6807;&#x5FD7;&#x4F4D; <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION.flags</a> &#x63D0;&#x4F9B;&#x4E86;&#x76F8;&#x673A;&#x80FD;&#x529B;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x3002; &#x8FD9;&#x4E9B;&#x6807;&#x5FD7;&#x4F4D;&#x7684;&#x503C;&#x6765;&#x81EA; <a href="../messages/common.html#CAMERA_CAP_FLAGS">CAMERA_CAP_FLAGS</a>&#xFF0C;GCS &#x53EF;&#x4EE5;&#x4ECE;&#x4E2D;&#x5F97;&#x77E5;&#x8BE5;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x662F;&#x5426;&#x652F;&#x6301;&#x9759;&#x6001;&#x7167;&#x7247;&#x62CD;&#x6444;&#x3001;&#x89C6;&#x9891;&#x5F55;&#x5236;&#x548C;&#x89C6;&#x9891;&#x6D41;&#xFF0C;&#x4EE5;&#x53CA;&#x62CD;&#x6444;&#x524D;&#x662F;&#x5426;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x7279;&#x5B9A;&#x6A21;&#x5F0F;&#xFF0C;&#x7B49;&#x7B49;&#x3002;</p><h3 id="camera_identification"><a href="#camera_identification"class="plugin-anchor"name="camera_identification"><i class="fa fa-link"aria-hidden="true"></i></a>&#x76F8;&#x673A;&#x8BC6;&#x522B;</h3><p>The camera identification operation identifies all the available cameras and determines their capabilities.</p><blockquote class="alert clearfix alert-success"><strong class="fa fa-2x fa-thumbs-o-up"></strong><p>Camera identification must be carried out before all other operations!</p></blockquote><p>The first time a heartbeat is received from a new camera component, the GCS will send it a <a href="../messages/common.html#MAV_CMD_REQUEST_CAMERA_INFORMATION">MAV_CMD_REQUEST_CAMERA_INFORMATION</a> message. The camera will then respond with the a <a href="../messages/common.html#COMMAND_ACK">COMMAND_ACK</a> message containing a result. &#x5982;&#x679C;&#x6210;&#x529F; (&#x7ED3;&#x679C;&#x5C06;&#x662F; <a href="../messages/common.html#MAV_RESULT_ACCEPTED">MAV_RESULT_ACCEPTED</a>) &#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x5C06;&#x7EE7;&#x7EED;&#x53D1;&#x9001;<a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION</a> &#x6D88;&#x606F;&#x3002;</p><p><a href="https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIENhbWVyYS0-PkdDUzogSEVBUlRCRUFUIFtjbXAgaWQ6IE1BVl9DT01QX0lEX0NBTUVSQV0gKGZpcnN0KSBcbiAgICBHQ1MtPj5DYW1lcmE6IE1BVl9DTURfUkVRVUVTVF9DQU1FUkFfSU5GT1JNQVRJT05cbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IENPTU1BTkRfQUNLXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IElmIE1BVl9SRVNVTFRfQUNDRVBURUQgc2VuZCBpbmZvLlxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0lORk9STUFUSU9OIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0"target="_blank"><img alt="Mermaid Sequence: Camera Id"src="https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIENhbWVyYS0-PkdDUzogSEVBUlRCRUFUIFtjbXAgaWQ6IE1BVl9DT01QX0lEX0NBTUVSQV0gKGZpcnN0KSBcbiAgICBHQ1MtPj5DYW1lcmE6IE1BVl9DTURfUkVRVUVTVF9DQU1FUkFfSU5GT1JNQVRJT05cbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IENPTU1BTkRfQUNLXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IElmIE1BVl9SRVNVTFRfQUNDRVBURUQgc2VuZCBpbmZvLlxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0lORk9STUFUSU9OIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0"></a></p><p>&#x5BF9;&#x76F8;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x9075;&#x5FAA; <a href="command.html">Command Protocol</a> &#x5BF9;&#x547D;&#x4EE4;/ACK &#x7684;&#x7EA6;&#x5B9A; (&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6536;&#x5230; <code>COMMAND_ACK</code> &#x54CD;&#x5E94;&#xFF0C;<code>MAV_CMD_REQUEST_CAMERA_INFORMATION</code> &#x5C06;&#x4F1A;&#x91CD;&#x53D1;&#x51E0;&#x6B21;&#x76F4;&#x5230;&#x786E;&#x8BA4;&#x5931;&#x8D25;)&#x3002; &#x5982;&#x679C;&#x6536;&#x5230; <code>MAV_RESULT_ACCEPTED</code> &#x7684;ACK&#x4E4B;&#x540E;&#x6CA1;&#x6709;&#x6536;&#x5230; <code>CAMERA_INFORMATION</code> &#x6D88;&#x606F;&#xFF0C;&#x901A;&#x8BAF;&#x534F;&#x8BAE;&#x5C06;&#x8BA4;&#x4E3A;&#x8BE5;&#x6D88;&#x606F;&#x4E22;&#x5931;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x590D;&#x53D1;&#x9001; <code>MAV_CMD_REQUEST_CAMERA_INFORMATION</code> &#x6D88;&#x606F;&#x7684;&#x5FAA;&#x73AF;&#x3002; &#x5728;&#x8F6E;&#x8BE2;3&#x6B21;&#x4E4B;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x4ECD;&#x672A;&#x6536;&#x5230; <code>CAMERA_INFORMATION</code> &#x6D88;&#x606F;&#xFF0C;GCS &#x5C06;&#x8BA4;&#x4E3A;&#x4E0D;&#x652F;&#x6301;&#x6B64;&#x76F8;&#x673A;&#x7C7B;&#x578B;&#x3002;</p><p><code>CAMERA_INFORMATION</code> &#x6D88;&#x606F;&#x53EA;&#x5305;&#x542B;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x652F;&#x6301;&#x6216;&#x4E0D;&#x652F;&#x6301;&#x7279;&#x5B9A;&#x529F;&#x80FD;&#x7684;&#x6700;&#x7B80;&#x5355;&#x4FE1;&#x606F;&#x3002; &#x8FD9;&#x5BF9;&#x4E8E;&#x57FA;&#x672C;&#x7684;&#x56FE;&#x50CF;&#x6216;&#x89C6;&#x9891;&#x6355;&#x83B7;&#x6765;&#x8BF4;&#x5DF2;&#x7ECF;&#x8DB3;&#x591F;&#x4E86;&#x3002;</p><p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x5BF9;&#x8BBE;&#x7F6E;&#x9879;&#x63D0;&#x4F9B;&#x66F4;&#x7CBE;&#x7EC6;&#x7684;&#x63A7;&#x5236; <code>CAMERA_INFORMATION.cam_definition_uri</code> &#x5C06;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x76F8;&#x673A;&#x5B9A;&#x4E49;&#x6587;&#x4EF6; <a href="camera_def.html">Camera Definition File</a> &#x7684;URI&#x3002; If this URI exists, the GCS will request it, parse it and prepare the UI for the user to control the camera settings.</p><blockquote class="alert clearfix alert-info"><strong class="fa fa-2x fa-edit"></strong><p>A GCS that implements this protocol is expected to support both HTTP (<code>http://</code>) and <a href="ftp.html">MAVLink FTP</a> (<code>mavlinkftp://</code>) URIs for download of the camera definition file. If the camera provides an HTTP or MAVLink FTP interface, the definition file can be hosted on the camera itself. Otherwise, it can be <em>hosted</em> anywhere (on any reachable server).</p></blockquote><p><code>CAMERA_INFORMATION.cam_definition_version</code> &#x5B57;&#x6BB5;&#x5E94;&#x63D0;&#x4F9B;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x7684;&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x5141;&#x8BB8;GCS&#x8FDB;&#x884C;&#x7248;&#x672C;&#x6BD4;&#x5BF9;&#x3002; &#x6587;&#x4EF6;&#x4E00;&#x65E6;&#x88AB;&#x4E0B;&#x8F7D;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x6587;&#x4EF6;&#x7248;&#x672C;&#x53F7;&#x6539;&#x53D8;&#x65F6;&#x624D;&#x4F1A;&#x91CD;&#x65B0;&#x83B7;&#x53D6;&#x3002;</p><p>&#x5982;&#x679C;&#x98DE;&#x884C;&#x5668;&#x4E0A;&#x5B89;&#x88C5;&#x4E86;&#x591A;&#x4E2A;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#xFF0C;&#x6BCF;&#x4E2A;&#x76F8;&#x673A;&#x90FD;&#x8981;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#x7EC4;&#x4EF6;ID&#x5E76;&#x53D1;&#x9001;&#x81EA;&#x5DF1;&#x7684;&#x5FC3;&#x8DF3;&#x3002; GCS &#x5E94;&#x6839;&#x636E;&#x7EC4;&#x4EF6;ID&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x76F8;&#x673A;&#x63A7;&#x5236;&#x5668;&#x5B9E;&#x4F8B;&#x3002; &#x6240;&#x6709;&#x547D;&#x4EE4;&#x90FD;&#x8981;&#x6307;&#x5B9A;&#x7EC4;&#x4EF6;ID&#x5E76;&#x53D1;&#x9001;&#x7ED9;&#x5BF9;&#x5E94;&#x7684;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x3002;</p><h3 id="&#x76F8;&#x673A;&#x6A21;&#x5F0F;"><a href="#&#x76F8;&#x673A;&#x6A21;&#x5F0F;"class="plugin-anchor"name="&#x76F8;&#x673A;&#x6A21;&#x5F0F;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x76F8;&#x673A;&#x6A21;&#x5F0F;</h3><p>&#x6709;&#x4E9B;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x5FC5;&#x987B;&#x5207;&#x6362;&#x5230;&#x7279;&#x5B9A;&#x6A21;&#x5F0F;&#x624D;&#x80FD;&#x6355;&#x83B7;&#x56FE;&#x50CF;&#x6216;&#x89C6;&#x9891;&#x3002;</p><p>&#x901A;&#x8FC7;&#x68C0;&#x67E5; <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION.flags</a> &#x7684;&#x6807;&#x5FD7;&#x4F4D; <a href="../messages/common.html#CAMERA_CAP_FLAGS_HAS_MODES">CAMERA_CAP_FLAGS_HAS_MODES</a> &#x662F;&#x5426;&#x4E3A;&#x771F;&#xFF0C;GCS&#x5C31;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x5728;&#x53D1;&#x9001;&#x6355;&#x83B7;(&#x56FE;&#x50CF;&#x6216;&#x89C6;&#x9891;) &#x547D;&#x4EE4;&#x4E4B;&#x524D;&#xFF0C;&#x662F;&#x5426;&#x5FC5;&#x987B;&#x5C06;&#x76F8;&#x673A;&#x5207;&#x6362;&#x5230;&#x6070;&#x5F53;&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x3002;</p><p>&#x53E6;&#x5916;&#xFF0C;&#x6709;&#x4E9B;&#x76F8;&#x673A;&#x5141;&#x8BB8;&#x5728;&#x4EFB;&#x4F55;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x4E0B;&#x6355;&#x83B7;&#x56FE;&#x50CF;&#xFF0C;&#x4F46;&#x662F;&#x5206;&#x8FA8;&#x7387;&#x4E0D;&#x540C;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x53F0;2000&#x4E07;&#x50CF;&#x7D20;&#x7684;&#x76F8;&#x673A;&#x53EF;&#x4EE5;&#x5728;<code>CAMERA_MODE_IMAGE</code>&#x6A21;&#x5F0F;&#x4E0B;&#x6355;&#x83B7;&#x5168;&#x5206;&#x5C3A;&#x5BF8;&#x56FE;&#x50CF;&#xFF0C;&#x4F46;&#x662F;&#x5728;<code>CAMERA_MODE_VIDEO</code>&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x53EA;&#x80FD;&#x6355;&#x83B7;&#x4E0E;&#x5F53;&#x524D;&#x89C6;&#x9891;&#x5206;&#x8FA8;&#x7387;&#x76F8;&#x540C;&#x7684;&#x56FE;&#x50CF;&#x3002;</p><p>&#x8981;&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#xFF0C;GCS&#x5411;&#x76F8;&#x673A;&#x53D1;&#x9001;<a href="../messages/common.html#MAV_CMD_REQUEST_CAMERA_SETTINGS">MAV_CMD_REQUEST_CAMERA_SETTINGS</a> &#x547D;&#x4EE4;&#x5373;&#x53EF;&#x3002; &#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x5C06;&#x56DE;&#x590D;&#x4E00;&#x6761; <a href="../messages/common.html#COMMAND_ACK">COMMAND_ACK</a>&#x6D88;&#x606F;&#xFF0C;&#x8BE5;&#x6D88;&#x606F;&#x6709;&#x4E00;&#x4E2A; result &#x5B57;&#x6BB5;&#x7528;&#x6765;&#x6807;&#x5FD7;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x6210;&#x529F;&#x3002; &#x5982;&#x679C;&#x67E5;&#x8BE2;&#x6210;&#x529F; (<code>COMMAND_ACK.result</code> &#x5B57;&#x6BB5;&#x7B49;&#x4E8E; <a href="../messages/common.html#MAV_RESULT_ACCEPTED">MAV_RESULT_ACCEPTED</a>) &#xFF0C;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x5C06;&#x53D1;&#x9001;&#x4E00;&#x6761; <a href="../messages/common.html#CAMERA_SETTINGS">CAMERA_SETTINGS</a> &#x6D88;&#x606F;&#x3002; <code>CAMERA_SETTINGS.mode_id</code> &#x5B57;&#x6BB5;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x3002;</p><p>&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#xFF1A;</p><p><a href="https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9SRVFVRVNUX0NBTUVSQV9TRVRUSU5HU1xuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogQ09NTUFORF9BQ0tcbiAgICBOb3RlIG92ZXIgQ2FtZXJhLEdDUzogSWYgTUFWX1JFU1VMVF9BQ0NFUFRFRCBzZW5kIGluZm8uXG4gICAgQ2FtZXJhLT4-R0NTOiBDQU1FUkFfU0VUVElOR1MiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ"target="_blank"><img alt="Camera Settings"src="https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9SRVFVRVNUX0NBTUVSQV9TRVRUSU5HU1xuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogQ09NTUFORF9BQ0tcbiAgICBOb3RlIG92ZXIgQ2FtZXJhLEdDUzogSWYgTUFWX1JFU1VMVF9BQ0NFUFRFRCBzZW5kIGluZm8uXG4gICAgQ2FtZXJhLT4-R0NTOiBDQU1FUkFfU0VUVElOR1MiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ"></a></p><blockquote class="alert clearfix alert-info"><strong class="fa fa-2x fa-edit"></strong><p>Command acknowledgment and message resending is handled in the same way as for <a href="#camera_identification">camera identification</a> (if a successful ACK is received the camera will expect the <code>CAMERA_SETTINGS</code> message, and repeat the cycle - up to 3 times - until it is received).</p></blockquote><p>&#x8981;&#x5C06;&#x76F8;&#x673A;&#x5207;&#x6362;&#x5230;&#x7279;&#x5B9A;&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#xFF0C;GCS &#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x4E00;&#x6761;&#x5305;&#x542B;&#x8BE5;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x7684;<a href="../messages/common.html#MAV_CMD_SET_CAMERA_MODE">MAV_CMD_SET_CAMERA_MODE</a> &#x6307;&#x4EE4;&#x3002;</p><p>&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#xFF1A;</p><p><a href="https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9TRVRfQ0FNRVJBX01PREVcbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IENPTU1BTkRfQUNLXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IElmIE1BVl9SRVNVTFRfQUNDRVBURUQsIG1vZGUgd2FzIGNoYW5nZWQuIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0"target="_blank"><img alt=""src="https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9TRVRfQ0FNRVJBX01PREVcbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IENPTU1BTkRfQUNLXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IElmIE1BVl9SRVNVTFRfQUNDRVBURUQsIG1vZGUgd2FzIGNoYW5nZWQuIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0"></a></p><blockquote class="alert clearfix alert-info"><strong class="fa fa-2x fa-edit"></strong><p>The operation follows the normal <a href="command.html">Command Protocol</a> rules for command/acknowledgment.</p></blockquote><h3 id="&#x5B58;&#x50A8;&#x72B6;&#x6001;"><a href="#&#x5B58;&#x50A8;&#x72B6;&#x6001;"class="plugin-anchor"name="&#x5B58;&#x50A8;&#x72B6;&#x6001;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x5B58;&#x50A8;&#x72B6;&#x6001;</h3><p>&#x5728;&#x6355;&#x83B7;&#x56FE;&#x50CF;&#x548C;/&#x6216;&#x89C6;&#x9891;&#x4E4B;&#x524D;&#xFF0C;GCS&#x5E94;&#x8BE5;&#x67E5;&#x8BE2;&#x76F8;&#x673A;&#x7684;&#x5B58;&#x50A8;&#x72B6;&#x6001;&#x4EE5;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x8FD8;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;(&#x5E76;&#x628A;&#x5F53;&#x524D;&#x7684;&#x5B58;&#x50A8;&#x72B6;&#x6001;&#x53CD;&#x9988;&#x7ED9;&#x7528;&#x6237;)&#x3002; GCS &#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x6761; <a href="../messages/common.html#MAV_CMD_REQUEST_STORAGE_INFORMATION">MAV_CMD_REQUEST_STORAGE_INFORMATION</a> &#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x7B49;&#x5F85;&#x76F8;&#x673A;&#x56DE;&#x590D;<a href="../messages/common.html#STORAGE_INFORMATION">STORAGE_INFORMATION</a> &#x6D88;&#x606F;&#x3002; &#x5982;&#x679C;&#x8981;&#x683C;&#x5F0F;&#x5316; (&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E3A;&#x64E6;&#x9664;)&#xFF0C;GCS &#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x6761; <a href="../messages/common.html#MAV_CMD_STORAGE_FORMAT">MAV_CMD_STORAGE_FORMAT</a> &#x547D;&#x4EE4;&#x3002;</p><h3 id="&#x76F8;&#x673A;&#x6355;&#x83B7;&#x72B6;&#x6001;"><a href="#&#x76F8;&#x673A;&#x6355;&#x83B7;&#x72B6;&#x6001;"class="plugin-anchor"name="&#x76F8;&#x673A;&#x6355;&#x83B7;&#x72B6;&#x6001;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x76F8;&#x673A;&#x6355;&#x83B7;&#x72B6;&#x6001;</h3><p>&#x9664;&#x4E86;&#x67E5;&#x8BE2;&#x5B58;&#x50A8;&#x5668;&#x72B6;&#x6001;&#xFF0C;GCS &#x8FD8;&#x8981;&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x7684; <em>Camera Capture Status</em> &#xFF0C;&#x624D;&#x80FD;&#x4E3A;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x6B63;&#x786E;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x3002; GCS &#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x6761; <a href="../messages/common.html#MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS">MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS</a> &#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x7B49;&#x5F85;&#x56DE;&#x590D;<a href="../messages/common.html#CAMERA_CAPTURE_STATUS">CAMERA_CAPTURE_STATUS</a> &#x6D88;&#x606F;&#x3002;</p><h3 id="&#x9759;&#x6001;&#x56FE;&#x50CF;&#x6355;&#x83B7;"><a href="#&#x9759;&#x6001;&#x56FE;&#x50CF;&#x6355;&#x83B7;"class="plugin-anchor"name="&#x9759;&#x6001;&#x56FE;&#x50CF;&#x6355;&#x83B7;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x9759;&#x6001;&#x56FE;&#x50CF;&#x6355;&#x83B7;</h3><p>A camera supports <em>still image capture</em> if the <a href="../messages/common.html#CAMERA_CAP_FLAGS_CAPTURE_IMAGE">CAMERA_CAP_FLAGS_CAPTURE_IMAGE</a> bit is set in <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION.flags</a>.</p><p>A GCS/MAVLink app uses the <a href="../messages/common.html#MAV_CMD_IMAGE_START_CAPTURE">MAV_CMD_IMAGE_START_CAPTURE</a> command to request that the camera capture a specified number of images (or forever), and the duration between them. The camera immediately returns the normal command acknowledgment (<a href="../messages/common.html#MAV_RESULT_ACCEPTED">MAV_RESULT</a>).</p><p>Each time an image is captured, the camera <em>broadcasts</em> a <a href="../messages/common.html#CAMERA_IMAGE_CAPTURED">CAMERA_IMAGE_CAPTURED</a> message. This message not only tells the GCS the image was captured, it is also intended for geo-tagging.</p><blockquote class="alert clearfix alert-info"><strong class="fa fa-2x fa-edit"></strong><p>The camera must iterate <code>CAMERA_IMAGE_CAPTURED.image_index</code> and the counter used in <code>CAMERA_CAPTURE_STATUS.image_count</code> for every <em>new</em> image capture (these values iterate until explicitly cleared using <a href="#MAV_CMD_STORAGE_FORMAT">MAV_CMD_STORAGE_FORMAT</a>). The index and total image count can be used to <a href="#missing_images">re-request missing images</a> (e.g. images captured when the vehicle was out of telmetry range).</p></blockquote><p>The <a href="../messages/common.html#MAV_CMD_IMAGE_STOP_CAPTURE">MAV_CMD_IMAGE_STOP_CAPTURE</a> command can optionally be sent to stop an image capture sequence (this is needed if image capture has been set to continue forever).</p><p>The still image capture message sequence <em>for missions</em> (as described above) is shown below:</p><p><a href="https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9JTUFHRV9TVEFSVF9DQVBUVVJFIChpbnRlcnZhbCwgY291bnQvZm9yZXZlcilcbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IE1BVl9SRVNVTFRfQUNDRVBURURcbiAgICBOb3RlIG92ZXIgQ2FtZXJhLEdDUzogQ2FtZXJhIHN0YXJ0IGNhcHR1cmUgb2YgXCJjb3VudFwiIGltYWdlcyBhdCBcImludGVydmFsXCJcbiAgICBDYW1lcmEtPj5HQ1M6IENBTUVSQV9JTUFHRV9DQVBUVVJFRCAgKGJyb2FkY2FzdClcbiAgICBDYW1lcmEtPj5HQ1M6IC4uLlxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0lNQUdFX0NBUFRVUkVEIChicm9hZGNhc3QpXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IChPcHRpb25hbCkgU3RvcCBjYXB0dXJlXG4gICAgR0NTLT4-Q2FtZXJhOiBNQVZfQ01EX0lNQUdFX1NUT1BfQ0FQVFVSRVxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogTUFWX1JFU1VMVF9BQ0NFUFRFRCIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"target="_blank"><img alt="Mermaid Sequence: Image capture"src="https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9JTUFHRV9TVEFSVF9DQVBUVVJFIChpbnRlcnZhbCwgY291bnQvZm9yZXZlcilcbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IE1BVl9SRVNVTFRfQUNDRVBURURcbiAgICBOb3RlIG92ZXIgQ2FtZXJhLEdDUzogQ2FtZXJhIHN0YXJ0IGNhcHR1cmUgb2YgXCJjb3VudFwiIGltYWdlcyBhdCBcImludGVydmFsXCJcbiAgICBDYW1lcmEtPj5HQ1M6IENBTUVSQV9JTUFHRV9DQVBUVVJFRCAgKGJyb2FkY2FzdClcbiAgICBDYW1lcmEtPj5HQ1M6IC4uLlxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0lNQUdFX0NBUFRVUkVEIChicm9hZGNhc3QpXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IChPcHRpb25hbCkgU3RvcCBjYXB0dXJlXG4gICAgR0NTLT4-Q2FtZXJhOiBNQVZfQ01EX0lNQUdFX1NUT1BfQ0FQVFVSRVxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogTUFWX1JFU1VMVF9BQ0NFUFRFRCIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"></a></p><p>The message sequence for <em>interactive user-initiated image capture</em> through a GUI is slightly different. In this case the GCS should:</p><ul><li>Confirm that the camera is <em>ready</em> to take images before allowing the user to request image capture.<ul><li>It does this by by sending <a href="../messages/common.html#MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS">MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS</a>.</li><li>The camera should return a <code>MAV_RESULT</code> and then <a href="../messages/common.html#CAMERA_CAPTURE_STATUS">CAMERA_CAPTURE_STATUS</a>.</li><li>The GCS should check that the status is &quot;Idle&quot; before enabling camera capture in the GUI.</li></ul></li><li>Send <a href="../messages/common.html#MAV_CMD_IMAGE_START_CAPTURE">MAV_CMD_IMAGE_START_CAPTURE</a> specifying a single image (only).</li></ul><p>The sequence is as shown below:</p><p><a href="https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9SRVFVRVNUX0NBTUVSQV9DQVBUVVJFX1NUQVRVU1xuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogTUFWX1JFU1VMVF9BQ0NFUFRFRFxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0NBUFRVUkVfU1RBVFVTIChzdGF0dXMpXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IFJlcGVhdCB1bnRpbCBzdGF0dXMgaXMgSURMRVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9JTUFHRV9TVEFSVF9DQVBUVVJFIChpbnRlcnZhbCwgY291bnQvZm9yZXZlcilcbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IE1BVl9SRVNVTFRfQUNDRVBURURcbiAgICBOb3RlIG92ZXIgQ2FtZXJhLEdDUzogQ2FtZXJhIHN0YXJ0IGNhcHR1cmUgb2YgMSBpbWFnZVxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0lNQUdFX0NBUFRVUkVEICAoYnJvYWRjYXN0KSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"target="_blank"><img alt="Mermaid Sequence: Interactive user intiated image capture"src="https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9SRVFVRVNUX0NBTUVSQV9DQVBUVVJFX1NUQVRVU1xuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogTUFWX1JFU1VMVF9BQ0NFUFRFRFxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0NBUFRVUkVfU1RBVFVTIChzdGF0dXMpXG4gICAgTm90ZSBvdmVyIENhbWVyYSxHQ1M6IFJlcGVhdCB1bnRpbCBzdGF0dXMgaXMgSURMRVxuICAgIEdDUy0-PkNhbWVyYTogTUFWX0NNRF9JTUFHRV9TVEFSVF9DQVBUVVJFIChpbnRlcnZhbCwgY291bnQvZm9yZXZlcilcbiAgICBHQ1MtPj5HQ1M6IFN0YXJ0IHRpbWVvdXRcbiAgICBDYW1lcmEtPj5HQ1M6IE1BVl9SRVNVTFRfQUNDRVBURURcbiAgICBOb3RlIG92ZXIgQ2FtZXJhLEdDUzogQ2FtZXJhIHN0YXJ0IGNhcHR1cmUgb2YgMSBpbWFnZVxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogQ0FNRVJBX0lNQUdFX0NBUFRVUkVEICAoYnJvYWRjYXN0KSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"></a></p><h3 id="missing_images"><a href="#missing_images"class="plugin-anchor"name="missing_images"><i class="fa fa-link"aria-hidden="true"></i></a>Request Lost CAMERA_IMAGE_CAPTURED Messages</h3><p>The camera broadcasts a <a href="#CAMERA_IMAGE_CAPTURED">CAMERA_IMAGE_CAPTURED</a> every time a new image is captured, iterating both the current image index (<code>CAMERA_IMAGE_CAPTURED.image_index</code>) and the total image count (<code>CAMERA_CAPTURE_STATUS.image_count</code>).</p><p>These messages can be lost during transmission; for example if the vehicle is out of data-link range of the ground stations.</p><p>Lost image capture messages can be detected by comparing GCS and camera image counts. Individual entries can be requested using <a href="../messages/common.html#MAV_CMD_REQUEST_MESSAGE">MAV_CMD_REQUEST_MESSAGE</a>, where <code>param1=&quot;MAVLINK_MSG_ID_CAMERA_IMAGE_CAPTURED&quot;</code> and <code>param2=&quot;the index of the missing image&quot;</code>.</p><p>The camera image log iterates &quot;forever&quot; (but may be explicitly reset using <a href="../messages/common.html#MAV_CMD_STORAGE_FORMAT">MAV_CMD_STORAGE_FORMAT.param3=1</a>).</p><h3 id="video-capture"><a href="#video-capture"class="plugin-anchor"name="video-capture"><i class="fa fa-link"aria-hidden="true"></i></a>Video Capture</h3><p>A camera supports video capture if the <a href="../messages/common.html#CAMERA_CAP_FLAGS_CAPTURE_VIDEO">CAMERA_CAP_FLAGS_CAPTURE_VIDEO</a> bit is set in <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION.flags</a>.</p><p>To start recording videos, the GCS uses the <a href="../messages/common.html#MAV_CMD_VIDEO_START_CAPTURE">MAV_CMD_VIDEO_START_CAPTURE</a> command. If requested, the <a href="#CAMERA_CAPTURE_STATUS">CAMERA_CAPTURE_STATUS</a> message is sent to the GCS at a set interval.</p><p>To stop recording, the GCS uses the <a href="../messages/common.html#MAV_CMD_VIDEO_STOP_CAPTURE">MAV_CMD_VIDEO_STOP_CAPTURE</a> command.</p><h3 id="video_streaming"><a href="#video_streaming"class="plugin-anchor"name="video_streaming"><i class="fa fa-link"aria-hidden="true"></i></a>Video Streaming</h3><blockquote class="alert clearfix alert-info"><strong class="fa fa-2x fa-edit"></strong><p>The GCS should already have identified all connected cameras by their heartbeat and followed the <a href="#camera_identification">Camera Identification</a> steps to get <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION</a> for every camera.</p></blockquote><p>A camera is capable of streaming video if it sets the <a href="../messages/common.html#CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM">CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM</a> bit set in <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION.flags</a>.</p><p>The sequence for requesting <em>all</em> video streams from a particular camera is shown below:</p><p><a href="https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIE5vdGUgb3ZlciBHQ1MsQ2FtZXJhOiBJRiBDQU1FUkFfQ0FQX0ZMQUdTX0hBU19WSURFT19TVFJFQU08YnI-aW4gQ0FNRVJBX0lORk9STUFUSU9OLmZsYWdzPGJyPnJlcXVlc3QgYWxsIHN0cmVhbXMuXG4gICAgR0NTLT4-Q2FtZXJhOiBNQVZfQ01EX1JFUVVFU1RfVklERU9fU1RSRUFNX0lORk9STUFUSU9OICggcGFyYW0xPTAgKVxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogTUFWX1JFU1VMVF9BQ0NFUFRFRFxuICAgIE5vdGUgb3ZlciBDYW1lcmEsR0NTOiBDYW1lcmEgc2VuZHMgaW5mb3JtYXRpb24gZm9yPGJyPiBhbGwgc3RyZWFtcy5cbiAgICBDYW1lcmEtPj5HQ1M6IFZJREVPX1NUUkVBTV9JTkZPUk1BVElPTiAoMSlcbiAgICBDYW1lcmEtPj5HQ1M6IC4uLlxuICAgIENhbWVyYS0-PkdDUzogVklERU9fU1RSRUFNX0lORk9STUFUSU9OIChuKSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"target="_blank"><img alt="Mermaid Sequence: Video stream info"src="https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtO1xuICAgIHBhcnRpY2lwYW50IEdDU1xuICAgIHBhcnRpY2lwYW50IENhbWVyYVxuICAgIE5vdGUgb3ZlciBHQ1MsQ2FtZXJhOiBJRiBDQU1FUkFfQ0FQX0ZMQUdTX0hBU19WSURFT19TVFJFQU08YnI-aW4gQ0FNRVJBX0lORk9STUFUSU9OLmZsYWdzPGJyPnJlcXVlc3QgYWxsIHN0cmVhbXMuXG4gICAgR0NTLT4-Q2FtZXJhOiBNQVZfQ01EX1JFUVVFU1RfVklERU9fU1RSRUFNX0lORk9STUFUSU9OICggcGFyYW0xPTAgKVxuICAgIEdDUy0-PkdDUzogU3RhcnQgdGltZW91dFxuICAgIENhbWVyYS0-PkdDUzogTUFWX1JFU1VMVF9BQ0NFUFRFRFxuICAgIE5vdGUgb3ZlciBDYW1lcmEsR0NTOiBDYW1lcmEgc2VuZHMgaW5mb3JtYXRpb24gZm9yPGJyPiBhbGwgc3RyZWFtcy5cbiAgICBDYW1lcmEtPj5HQ1M6IFZJREVPX1NUUkVBTV9JTkZPUk1BVElPTiAoMSlcbiAgICBDYW1lcmEtPj5HQ1M6IC4uLlxuICAgIENhbWVyYS0-PkdDUzogVklERU9fU1RSRUFNX0lORk9STUFUSU9OIChuKSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"></a></p><p>The steps are:</p><ol><li>GCS follows the <a href="#camera_identification">Camera Identification</a> steps to get <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION</a> for every camera.</li><li>GCS checks if <a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION.flags</a> contains the <a href="../messages/common.html#CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM">CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM</a> flag.</li><li>If so, the GCS sends the <a href="../messages/common.html#MAV_CMD_REQUEST_VIDEO_STREAM_INFORMATION">MAV_CMD_REQUEST_VIDEO_STREAM_INFORMATION</a> message to the camera requesting the video streaming configuration for all streams - <code>param1=0</code>). &gt; <strong>Note</strong> A GCS can also request information for a particular stream by setting its id in <code>param1</code>.</li><li>Camera returns a <a href="../messages/common.html#VIDEO_STREAM_INFORMATION">VIDEO_STREAM_INFORMATION</a> message for the specified stream or all streams it supports.</li></ol><blockquote class="alert clearfix alert-info"><strong class="fa fa-2x fa-edit"></strong><p>If your camera only provides video streaming and nothing else (no camera features), the <a href="../messages/common.html#CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM">CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM</a> flag is the only flag you need to set. The GCS will then provide video streaming support and skip camera control.</p></blockquote><h3 id="battery-status"><a href="#battery-status"class="plugin-anchor"name="battery-status"><i class="fa fa-link"aria-hidden="true"></i></a>Battery Status</h3><p>Camera components that are powered from their own battery should publish <a href="../messages/common.html#BATTERY_STATUS">BATTERY_STATUS</a> messages.</p><p>Other components like a GCS will typically only use the camera <code>BATTERY_STATUS.battery_remaining</code> field (or possibly <code>time_remaining</code>); generally other fields can be set as &quot;not supported&quot;.</p><h2 id="&#x6D88;&#x606F;&#x679A;&#x4E3E;&#x503C;&#x6458;&#x8981;"><a href="#&#x6D88;&#x606F;&#x679A;&#x4E3E;&#x503C;&#x6458;&#x8981;"class="plugin-anchor"name="&#x6D88;&#x606F;&#x679A;&#x4E3E;&#x503C;&#x6458;&#x8981;"><i class="fa fa-link"aria-hidden="true"></i></a>&#x6D88;&#x606F;/&#x679A;&#x4E3E;&#x503C;&#x6458;&#x8981;</h2><table><thead><tr><th>&#x6D88;&#x606F;</th><th>&#x63CF;&#x8FF0;</th></tr></thead><tbody><tr><td><span id="MAV_CMD_REQUEST_CAMERA_INFORMATION"></span><a href="../messages/common.html#MAV_CMD_REQUEST_CAMERA_INFORMATION">MAV_CMD_REQUEST_CAMERA_INFORMATION</a></td><td>Send command to request <a href="#CAMERA_INFORMATION">CAMERA_INFORMATION</a>.</td></tr><tr><td><span id="CAMERA_INFORMATION"></span><a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION</a></td><td>&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x6240;&#x652F;&#x6301;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x53CA;&#x6269;&#x5C55;&#x4FE1;&#x606F;&#x7684;URI&#x94FE;&#x63A5; (<code>cam_definition_uri</code> &#x5B57;&#x6BB5;)&#x3002;</td></tr><tr><td><span id="MAV_CMD_REQUEST_CAMERA_SETTINGS"></span><a href="../messages/common.html#MAV_CMD_REQUEST_CAMERA_SETTINGS">MAV_CMD_REQUEST_CAMERA_SETTINGS</a></td><td>Send command to request <a href="#CAMERA_SETTINGS">CAMERA_SETTINGS</a>.</td></tr><tr><td><span id="CAMERA_SETTINGS"></span><a href="../messages/common.html#CAMERA_SETTINGS">CAMERA_SETTINGS</a></td><td>&#x65F6;&#x95F4;&#x6233;&#x548C;&#x76F8;&#x673A;&#x6A21;&#x5F0F;&#x4FE1;&#x606F;&#x3002;</td></tr><tr><td><span id="MAV_CMD_SET_CAMERA_MODE"></span><a href="../messages/common.html#MAV_CMD_SET_CAMERA_MODE">MAV_CMD_SET_CAMERA_MODE</a></td><td>Send command to set <a href="#CAMERA_MODE">CAMERA_MODE</a>.</td></tr><tr><td><span id="MAV_CMD_REQUEST_VIDEO_STREAM_INFORMATION"></span><a href="../messages/common.html#MAV_CMD_REQUEST_VIDEO_STREAM_INFORMATION">MAV_CMD_REQUEST_VIDEO_STREAM_INFORMATION</a></td><td>Send command to request <a href="#VIDEO_STREAM_INFORMATION">VIDEO_STREAM_INFORMATION</a>. &#x5982;&#x679C;&#x67D0;&#x4E2A;&#x76F8;&#x673A;&#x88AB;&#x63A2;&#x6D4B;&#x5230;&#xFF0C;&#x5E76;&#x4E14;&#x5176;<a href="../messages/common.html#CAMERA_INFORMATION">CAMERA_INFORMATION</a> &#x6D88;&#x606F;&#x7684; <code>flags</code> &#x5B57;&#x6BB5;&#x7684;<a href="../messages/common.html#CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM">CAMERA_CAP_FLAGS_HAS_VIDEO_STREAM</a>&#x6807;&#x5FD7;&#x4F4D;&#x88AB;&#x7F6E;&#x4F4D;&#x7684;&#x8BDD;&#xFF0C;GCS&#x5C06;&#x53D1;&#x9001;&#x4E00;&#x6761;&#x6B64;&#x6D88;&#x606F;&#x3002;</td></tr><tr><td><span id="VIDEO_STREAM_INFORMATION"></span><a href="../messages/common.html#VIDEO_STREAM_INFORMATION">VIDEO_STREAM_INFORMATION</a></td><td>&#x63CF;&#x8FF0;&#x89C6;&#x9891;&#x6D41;&#x914D;&#x7F6E;&#x7684;&#x6D88;&#x606F;&#x3002; &#x5982;&#x679C;&#x4E00;&#x53F0;&#x76F8;&#x673A;&#x652F;&#x6301;&#x591A;&#x79CD;&#x683C;&#x5F0F;&#x7684;&#x89C6;&#x9891;&#x6D41;&#xFF0C;&#x5B83;&#x5C06;&#x4E3A;&#x6BCF;&#x4E2A;&#x6D41;&#x53D1;&#x9001;&#x4E00;&#x6761;&#x6D88;&#x606F;&#xFF0C;&#x6B64;&#x6D88;&#x606F;&#x63CF;&#x8FF0;&#x8BE5;&#x89C6;&#x9891;&#x6D41;&#x72EC;&#x7279;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x3002; &#x6BCF;&#x4E2A;&#x89C6;&#x9891;&#x6D41;&#x90FD;&#x5FC5;&#x987B;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#xFF0C;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684; <code>stream_id</code>&#x3002;</td></tr><tr><td><span id="MAV_CMD_REQUEST_VIDEO_STREAM_STATUS"></span><a href="../messages/common.html#MAV_CMD_REQUEST_VIDEO_STREAM_STATUS">MAV_CMD_REQUEST_VIDEO_STREAM_STATUS</a></td><td>Send command to request <a href="#VIDEO_STREAM_STATUS">VIDEO_STREAM_STATUS</a>. &#x4E00;&#x65E6;&#x76F8;&#x673A;&#x53D1;&#x751F;&#x4E86;&#x6A21;&#x5F0F;&#x5207;&#x6362;(&#x6BD4;&#x5982;&#x5728;&#x53D1;&#x9001; <a href="../messages/common.html#MAV_CMD_SET_CAMERA_MODE">MAV_CMD_SET_CAMERA_MODE</a> &#x547D;&#x4EE4;&#x4E4B;&#x540E;)&#xFF0C;&#x6B64;&#x547D;&#x4EE4;&#x968F;&#x5373;&#x88AB;&#x53D1;&#x9001;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x76F8;&#x673A;&#x5207;&#x6362;&#x6A21;&#x5F0F;&#x540E;&#x66F4;&#x65B0;&#x89C6;&#x9891;&#x6D41;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x3002;</td></tr><tr><td><span id="VIDEO_STREAM_STATUS"></span><a href="../messages/common.html#VIDEO_STREAM_STATUS">VIDEO_STREAM_STATUS</a></td><td>&#x7528;&#x4E8E;&#x66F4;&#x65B0;&#x89C6;&#x9891;&#x6D41;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x7684;&#x6D88;&#x606F;&#x3002;</td></tr><tr><td><span id="MAV_CMD_REQUEST_STORAGE_INFORMATION"></span><a href="../messages/common.html#MAV_CMD_REQUEST_STORAGE_INFORMATION">MAV_CMD_REQUEST_STORAGE_INFORMATION</a></td><td>&#x53D1;&#x9001;&#x6B64;&#x547D;&#x4EE4;&#x67E5;&#x8BE2; <a href="#storage_information">STORAGE_INFORMATION</a> &#x3002;</td></tr><tr><td><span id="storage_information"></span><a href="../messages/common.html#STORAGE_INFORMATION">STORAGE_INFORMATION</a></td><td>&#x5B58;&#x50A8;&#x5668;&#x4FE1;&#x606F; (&#x6BD4;&#x5982; &#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x7684;&#x6570;&#x91CF;&#x548C;&#x7C7B;&#x578B;&#xFF0C;&#x603B;&#x5BB9;&#x91CF;/&#x5DF2;&#x4F7F;&#x7528;&#x5BB9;&#x91CF;/&#x53EF;&#x7528;&#x5BB9;&#x91CF;&#xFF0C;&#x8BFB;/&#x5199;&#x901F;&#x5EA6;)&#x3002;</td></tr><tr><td><span id="MAV_CMD_STORAGE_FORMAT"></span><a href="../messages/common.html#MAV_CMD_STORAGE_FORMAT">MAV_CMD_STORAGE_FORMAT</a></td><td>&#x53D1;&#x9001;&#x6B64;&#x547D;&#x4EE4;&#x5C06;&#x6307;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5668;&#x683C;&#x5F0F;&#x5316;&#x3002;</td></tr><tr><td><span id="MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS"></span><a href="../messages/common.html#MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS">MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS</a></td><td>Send command to request <a href="#CAMERA_CAPTURE_STATUS">CAMERA_CAPTURE_STATUS</a>.</td></tr><tr><td><span id="CAMERA_CAPTURE_STATUS"></span><a href="../messages/common.html#CAMERA_CAPTURE_STATUS">CAMERA_CAPTURE_STATUS</a></td><td>&#x76F8;&#x673A;&#x6355;&#x83B7;&#x72B6;&#x6001;&#xFF0C;&#x5305;&#x62EC;&#x5F53;&#x524D;&#x6355;&#x83B7;&#x7C7B;&#x578B;(&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;)&#xFF0C;&#x6355;&#x83B7;&#x95F4;&#x9694;&#xFF0C;&#x53EF;&#x7528;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x3002;</td></tr><tr><td><span id="MAV_CMD_IMAGE_START_CAPTURE"></span><a href="../messages/common.html#MAV_CMD_IMAGE_START_CAPTURE">MAV_CMD_IMAGE_START_CAPTURE</a></td><td>&#x53D1;&#x9001;&#x6B64;&#x547D;&#x4EE4;&#x5F00;&#x59CB;&#x6355;&#x83B7;&#x56FE;&#x50CF;&#xFF0C;&#x6307;&#x5B9A;&#x4E24;&#x6B21;&#x6355;&#x83B7;&#x4E4B;&#x95F4;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x548C;&#x9700;&#x8981;&#x6355;&#x83B7;&#x7684;&#x603B;&#x5E27;&#x6570;&#x3002;</td></tr><tr><td><span id="MAV_CMD_IMAGE_STOP_CAPTURE"></span><a href="../messages/common.html#MAV_CMD_IMAGE_STOP_CAPTURE">MAV_CMD_IMAGE_STOP_CAPTURE</a></td><td>&#x53D1;&#x9001;&#x6B64;&#x547D;&#x4EE4;&#x505C;&#x6B62;&#x6355;&#x83B7;&#x56FE;&#x50CF;&#x3002;</td></tr><tr><td><span id="CAMERA_IMAGE_CAPTURED"></span><a href="../messages/common.html#CAMERA_IMAGE_CAPTURED">CAMERA_IMAGE_CAPTURED</a></td><td>&#x6355;&#x83B7;&#x56FE;&#x50CF;&#x7684;&#x4FE1;&#x606F;(&#x6BCF;&#x5F53;&#x6709;&#x56FE;&#x50CF;&#x6355;&#x83B7;&#x6210;&#x529F;&#x5C31;&#x5411;GPS&#x53D1;&#x9001;&#x6B64;&#x6D88;&#x606F;)&#x3002;</td></tr><tr><td><span id="MAV_CMD_VIDEO_START_CAPTURE"></span><a href="../messages/common.html#MAV_CMD_VIDEO_START_CAPTURE">MAV_CMD_VIDEO_START_CAPTURE</a></td><td>Send command to start video capture, specifying the frequency that <a href="#CAMERA_CAPTURE_STATUS">CAMERA_CAPTURE_STATUS</a> messages should be sent while recording.</td></tr><tr><td><span id="MAV_CMD_VIDEO_STOP_CAPTURE"></span><a href="../messages/common.html#MAV_CMD_VIDEO_STOP_CAPTURE">MAV_CMD_VIDEO_STOP_CAPTURE</a></td><td>&#x53D1;&#x9001;&#x6B64;&#x6D88;&#x606F;&#x505C;&#x6B62;&#x89C6;&#x9891;&#x6355;&#x83B7;&#x3002;</td></tr><tr><td><span id="CAMERA_IMAGE_CAPTURED"></span><a href="../messages/common.html#CAMERA_IMAGE_CAPTURED">CAMERA_IMAGE_CAPTURED</a></td><td>&#x6355;&#x83B7;&#x56FE;&#x50CF;&#x7684;&#x4FE1;&#x606F;(&#x6BCF;&#x5F53;&#x6709;&#x56FE;&#x50CF;&#x6355;&#x83B7;&#x6210;&#x529F;&#x5C31;&#x5411;GPS&#x53D1;&#x9001;&#x6B64;&#x6D88;&#x606F;)&#x3002;</td></tr><tr><td><span id="MAV_CMD_VIDEO_START_STREAMING"></span><a href="../messages/common.html#MAV_CMD_VIDEO_START_STREAMING">MAV_CMD_VIDEO_START_STREAMING</a></td><td>&#x53D1;&#x9001;&#x6B64;&#x547D;&#x4EE4;&#x5F00;&#x542F;&#x6307;&#x5B9A;ID&#x7684;&#x89C6;&#x9891;&#x6D41; (<code>stream_id</code>)&#x3002;&#x8BE5;&#x547D;&#x4EE4;&#x4E3B;&#x8981;&#x7528;&#x4E8E; <em>push</em> &#x6D41;&#x6570;&#x636E;&#x7684;&#x89C6;&#x9891;&#x6D41;&#x534F;&#x8BAE;&#x3002; &#x5982;&#x679C;&#x4F60;&#x7684;&#x76F8;&#x673A;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x8FDE;&#x63A5;&#x7684;&#x6D41;&#x914D;&#x7F6E; (RTSP, TCP, &#x7B49;)&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x54CD;&#x5E94;&#x6B64;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x5B83;&#xFF0C;&#x4F46;&#x8BF7;&#x6CE8;&#x610F;&#x4F60;&#x4ECD;&#x9700;&#x56DE;&#x590D; ACK&#xFF0C;&#x50CF;&#x6240;&#x6709;&#x7684; <code>MAV_CMD_XXX</code> &#x547D;&#x4EE4;&#x90A3;&#x6837;&#x3002; &#x5F53;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x8FDE;&#x63A5;&#x7684;&#x6D41;&#x914D;&#x7F6E;&#x65F6;&#xFF0C;GCS&#x5FC5;&#x987B;&#x4E3B;&#x52A8;&#x8FDE;&#x63A5;&#x89C6;&#x9891;&#x6D41;&#x3002; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x652F;&#x6301;&#x591A;&#x4E2A;&#x89C6;&#x9891;&#x6D41;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x9700;&#x8981;&#x5728;&#x89C6;&#x9891;&#x6D41;&#x4E4B;&#x95F4;&#x5207;&#x6362;&#x65F6;&#xFF0C;GCS&#x5C06;&#x5411;&#x5F53;&#x524D;&#x6D41;ID&#x53D1;&#x9001;&#x4E00;&#x6761; <a href="../messages/common.html#MAV_CMD_VIDEO_STOP_STREAMING">MAV_CMD_VIDEO_STOP_STREAMING</a>&#x547D;&#x4EE4;&#xFF0C;&#x7136;&#x540E;&#x5411;&#x65B0;&#x9009;&#x4E2D;&#x7684;&#x6D41;ID&#x53D1;&#x9001; <a href="../messages/common.html#MAV_CMD_VIDEO_START_STREAMING">MAV_CMD_VIDEO_START_STREAMING</a> &#x547D;&#x4EE4;&#x3002;</td></tr><tr><td><span id="MAV_CMD_VIDEO_STOP_STREAMING"></span><a href="../messages/common.html#MAV_CMD_VIDEO_STOP_STREAMING">MAV_CMD_VIDEO_STOP_STREAMING</a></td><td>&#x53D1;&#x9001;&#x6B64;&#x547D;&#x4EE4;&#x5173;&#x95ED;&#x6307;&#x5B9A;ID&#x7684;&#x89C6;&#x9891;&#x6D41; (<code>stream_id</code>)&#x3002;&#x8BE5;&#x547D;&#x4EE4;&#x4E3B;&#x8981;&#x7528;&#x4E8E; <em>push</em> &#x6D41;&#x6570;&#x636E;&#x7684;&#x89C6;&#x9891;&#x6D41;&#x534F;&#x8BAE;&#x3002; &#x5982;&#x679C;&#x4F60;&#x7684;&#x76F8;&#x673A;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x8FDE;&#x63A5;&#x7684;&#x6D41;&#x914D;&#x7F6E; (RTSP, TCP, &#x7B49;)&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x54CD;&#x5E94;&#x6B64;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x5B83;&#xFF0C;&#x4F46;&#x8BF7;&#x6CE8;&#x610F;&#x4F60;&#x4ECD;&#x9700;&#x56DE;&#x590D; ACK&#xFF0C;&#x50CF;&#x6240;&#x6709;&#x7684; <code>MAV_CMD_XXX</code> &#x547D;&#x4EE4;&#x90A3;&#x6837;&#x3002; &#x5F53;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x8FDE;&#x63A5;&#x7684;&#x6D41;&#x914D;&#x7F6E;&#x65F6;&#xFF0C;GCS&#x5FC5;&#x987B;&#x4E3B;&#x52A8;&#x5173;&#x95ED;&#x89C6;&#x9891;&#x6D41;&#x3002; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x76F8;&#x673A;&#x7EC4;&#x4EF6;&#x652F;&#x6301;&#x591A;&#x4E2A;&#x89C6;&#x9891;&#x6D41;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x9700;&#x8981;&#x5728;&#x89C6;&#x9891;&#x6D41;&#x4E4B;&#x95F4;&#x5207;&#x6362;&#x65F6;&#xFF0C;GCS&#x5C06;&#x5411;&#x5F53;&#x524D;&#x6D41;ID&#x53D1;&#x9001;&#x4E00;&#x6761; <a href="../messages/common.html#MAV_CMD_VIDEO_STOP_STREAMING">MAV_CMD_VIDEO_STOP_STREAMING</a>&#x547D;&#x4EE4;&#xFF0C;&#x7136;&#x540E;&#x5411;&#x65B0;&#x9009;&#x4E2D;&#x7684;&#x6D41;ID&#x53D1;&#x9001; <a href="../messages/common.html#MAV_CMD_VIDEO_START_STREAMING">MAV_CMD_VIDEO_START_STREAMING</a> &#x547D;&#x4EE4;&#x3002;</td></tr></tbody></table><table><thead><tr><th>&#x679A;&#x4E3E;&#x503C;</th><th>&#x63CF;&#x8FF0;</th></tr></thead><tbody><tr><td><span id="CAMERA_CAP_FLAGS"></span><a href="../messages/common.html#CAMERA_CAP_FLAGS">CAMERA_CAP_FLAGS</a></td><td>&#x63CF;&#x8FF0;&#x76F8;&#x673A;&#x80FD;&#x529B;&#x7684;&#x6807;&#x5FD7;&#x4F4D;(&#x6309;&#x4F4D;&#x6620;&#x5C04;)&#x3002; &#x4F8B;&#x5982;&#xFF1A;&#x5728;&#x89C6;&#x9891;&#x6A21;&#x5F0F;&#x4E0B;&#x6355;&#x83B7;&#x56FE;&#x50CF;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x662F;&#x5426;&#x652F;&#x6301;&#x6D4B;&#x91CF;&#x6A21;&#x5F0F;&#x7B49;&#x3002; Received in <a href="#CAMERA_INFORMATION">CAMERA_INFORMATION</a>.</td></tr><tr><td><span id="CAMERA_MODE"></span><a href="../messages/common.html#CAMERA_MODE">CAMERA_MODE</a></td><td>&#x76F8;&#x673A;&#x6A21;&#x5F0F; (&#x56FE;&#x50CF;&#xFF0C;&#x89C6;&#x9891;&#xFF0C;&#x6D4B;&#x91CF;&#x7B49;)&#x3002; Received in <a href="#CAMERA_SETTINGS">CAMERA_SETTINGS</a>.</td></tr><tr><td><span id="VIDEO_STREAM_TYPE"></span><a href="../messages/common.html#VIDEO_STREAM_TYPE">VIDEO_STREAM_TYPE</a></td><td>&#x89C6;&#x9891;&#x6D41;&#x7684;&#x7C7B;&#x578B; - &#x6BD4;&#x5982; RTSP&#x3001;MPEG&#x7B49;&#x3002; Received in <a href="#VIDEO_STREAM_INFORMATION">VIDEO_STREAM_INFORMATION </a>.</td></tr><tr><td><span id="VIDEO_STREAM_STATUS_FLAGS"></span><a href="../messages/common.html#VIDEO_STREAM_TYPE">VIDEO_STREAM_STATUS_FLAGS</a></td><td>&#x89C6;&#x9891;&#x6D41;&#x72B6;&#x6001;&#x7684;&#x6807;&#x5FD7;&#x4F4D;- &#x6BD4;&#x5982;&#x7F29;&#x653E;&#x500D;&#x7387;&#xFF0C;&#x70ED;&#x529B;&#x56FE;&#x7B49;&#x3002; Received in <a href="#VIDEO_STREAM_INFORMATION">VIDEO_STREAM_INFORMATION </a>.</td></tr></tbody></table></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> results matching "<span class="search-query"></span>"</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">No results matching "<span class="search-query"></span>"</h1></div></div></div></div></div></div></div><script>var gitbook=gitbook||[];gitbook.push(function(){gitbook.page.hasChanged({page:{title:"Camera Protocol",level:"1.6.5",depth:2,next:{title:"Camera Definition",level:"1.6.5.1",depth:3,path:"services/camera_def.md",ref:"services/camera_def.md",articles:[]},previous:{title:"Command Protocol",level:"1.6.4",depth:2,path:"services/command.md",ref:"services/command.md",articles:[]},dir:"ltr"},config:{plugins:["theme-api","youtube","richquotes@git+https://github.com/Dronecode/gitbook-plugin-richquotes.git","anchors","collapsible-menu","page-toc-button","toolbar@git+https://github.com/hamishwillee/gitbook-plugin-toolbar.git","language-picker","custom-favicon","bulk-redirect@git+https://github.com/Dronecode/gitbook-plugin-bulk-redirect.git","-mermaid","-stub-out-blocks@git+https://github.com/hamishwillee/gitbook-plugin-stub-out-blocks.git","validate-links","theme-dronecode@git+https://github.com/dronecode/theme-dronecode.git","html-minifier"],styles:{website:"styles/website.css",pdf:"styles/pdf.css",epub:"styles/epub.css",mobi:"styles/mobi.css",ebook:"styles/ebook.css",print:"styles/print.css"},pluginsConfig:{"theme-dronecode":{logo:{logo_large:"../assets/site/logo_mavlink_header.png",logo_small:"../assets/site/logo_mavlink_header.png",url:"https://mavlink.io/en/"},menu:[{url:"https://mavlink.io/en/messages/common.html",text:"Messages",text_small:"Messages"},{url:"https://mavlink.io/en/about/faq.html",text:"FAQ",text_small:"FAQ"},{url:"https://mavlink.io/en/about/implementations.html",text:"Implementations",text_small:"Implementations"},{url:"https://mavlink.io/en/mavgen_c/examples.html",text:"Examples",text_small:"Examples"},{url:"https://mavlink.io/en/about/support.html",text:"Support",text_small:"Help"}]},"validate-links":{defaultScheme:"https",local:"warn",remote:"disabled"},"collapsible-menu":{},"language-picker":{"grid-columns":3},youtube:{},search:{},"html-minifier":{customAttrSurround:[],removeScriptTypeAttributes:!1,removeEmptyAttributes:!1,removeRedundantAttributes:!1,removeEmptyElements:!1,sortClassName:!0,caseSensitive:!0,html5:!0,collapseWhitespace:!0,processConditionalComments:!1,quoteCharacter:null,keepClosingSlash:!0,preventAttributesEscaping:!1,minifyURLs:!1,removeAttributeQuotes:!1,decodeEntities:!1,trimCustomFragments:!1,customAttrAssign:[],includeAutoGeneratedTags:!0,collapseInlineTagWhitespace:!1,collapseBooleanAttributes:!0,minifyJS:!0,removeTagWhitespace:!0,preserveLineBreaks:!1,sortAttributes:!0,removeStyleLinkTypeAttributes:!1,removeComments:!0,minifyCSS:!0,processScripts:[],conservativeCollapse:!1,removeOptionalTags:!1,useShortDoctype:!1},lunr:{maxIndexSize:1e6,ignoreSpecialCharacters:!1},fontsettings:{theme:"white",family:"sans",size:2},richquotes:{tip:{alert:"success",picto:"fa-thumbs-o-up"}},highlight:{},favicon:"favicon.ico","page-toc-button":{},"theme-api":{languages:[{lang:"c",name:"C/C++",default:!0},{lang:"python",name:"Python"},{lang:"js",name:"JavaScript"},{lang:"go",name:"Go"}],split:!0,theme:"light"},"bulk-redirect":{basepath:"/",redirectsFile:"redirects.json"},"custom-favicon":{},toolbar:{buttons:[{label:"Bug tracker",icon:"fa fa-bug",position:"left",url:"https://github.com/mavlink/mavlink-devguide/issues/new?title=Doc+Bug:+{{title}}&body=DESCRIBE+PROBLEM+WITH+DOCS+HERE%0A%0ABug+Page:+[{{title}}]({{url}})"},{label:"GitHub",icon:"fa fa-github",url:"https://github.com/mavlink/mavlink-devguide"},{label:"Edit page on github",icon:"fa fa-pencil-square-o",position:"left",url:"https://github.com/mavlink/mavlink-devguide/edit/master/{{filepath_lang}}"}]},sharing:{facebook:!0,twitter:!0,google:!1,weibo:!1,instapaper:!1,vk:!1,all:["facebook","google","twitter","weibo","instapaper"]},"theme-default":{styles:{website:"styles/website.css",pdf:"styles/pdf.css",epub:"styles/epub.css",mobi:"styles/mobi.css",ebook:"styles/ebook.css",print:"styles/print.css"},showLevel:!1},anchors:{}},theme:"default",pdf:{pageNumbers:!0,fontSize:12,fontFamily:"Arial",paperSize:"a4",chapterMark:"pagebreak",pageBreaksBefore:"/",margin:{right:62,left:62,top:56,bottom:56}},structure:{langs:"LANGS.md",readme:"README.md",glossary:"GLOSSARY.md",summary:"SUMMARY.md"},variables:{logo:"./assets/site/logo_mavlink_small.png"},title:"MAVLink Developer Guide",language:"zh",gitbook:"*"},file:{path:"services/camera.md",mtime:"2020-10-08T04:17:29.668Z",type:"markdown"},gitbook:{version:"3.2.3",time:"2020-10-08T04:18:50.546Z"},basePath:"..",book:{language:"zh"}})})</script></div><script src="../../gitbook/gitbook.js"></script><script src="../../gitbook/theme.js"></script><script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script><script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script><script src="../../gitbook/gitbook-plugin-toolbar/buttons.js"></script><script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script><script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script><script src="../../gitbook/gitbook-plugin-search/search.js"></script><script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script><script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script><script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script><script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script><script src="../../gitbook/gitbook-plugin-theme-api/theme-api.js"></script></body></html>